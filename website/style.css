/* --- VARIABLES & RESET --- */
:root {
    --mc-tan: #D2B48C;
    --mc-brown: #8B7355;
    --mc-green: #4CAF50;
    --mc-red: #ff5555;
    --mc-border: #5C4033;
    --mc-font: 'Minecraft', sans-serif;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
    font-family: var(--mc-font);
    font-weight: 200;
    background: linear-gradient(135deg, #87CEEB 0%, #98D8E8 30%, #B0E0E6 70%, #E0F6FF 100%);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    animation: backgroundShift 10s ease-in-out infinite;
}

/* Ensure the container is higher than the sky */
.minecraft-container {
    position: relative;
    z-index: 10; 
}

/* --- SKY & CLOUD SYSTEM --- */
#sky {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1; /* Sit above the background but behind the form */
    pointer-events: none;
    overflow: hidden;
}

.cloud {
    position: absolute;
    display: flex;
    flex-wrap: wrap;
    width: 150px; /* Give it a real width */
    height: 60px; /* Give it a real height */
    opacity: 0.8;
    z-index: 1;
    animation: moveCloud linear infinite;
}

/* Individual pixels inside the cloud for that blocky look */
.cloud div {
    width: 20px;
    height: 20px;
    background: #FFFFFF;
}

.sun {
    position: fixed; top: 3.125rem; right: 6.25rem;
    width: 10rem; height: 10rem;
    background: #FFD700; border: 0.25rem solid #FFA500;
    image-rendering: pixelated;
    animation: sunGlow 4s ease-in-out infinite alternate;
    box-shadow: 0 0 3.75rem rgba(255, 215, 0, 0.8);
}

.sun::before, .sun::after {
    content: ''; position: absolute; inset: 0.5rem;
    background: #FFEB3B; border: 0.125rem solid #FFD700;
    animation: sunPulse 3s ease-in-out infinite alternate;
}
.sun::after { inset: 1rem; background: #FFF59D; border: 0.0625rem solid #FFEB3B; animation-duration: 2s; }

.sun-rays, .sun-rays2 {
    position: absolute; inset: -6.25rem;
    background: radial-gradient(circle, rgba(255, 215, 0, 0.4) 0%, transparent 80%);
    animation: sunlightSpread 6s ease-in-out infinite alternate;
}

/* --- CONTAINER & BOX --- */
.signup-box {
    background: linear-gradient(135deg, #8B7355 0%, #A0826D 50%, #6B5D54 100%);
    border: 0.25rem solid var(--mc-border);
    border-radius: 0.75rem;
    padding: 3.75rem 3.125rem;
    box-shadow: 0 0 0 0.25rem #6B5D54, 0 0 0 0.5rem var(--mc-border), 0 1.25rem 2.5rem rgba(0,0,0,0.3);
    position: relative;
    min-width: 31.25rem; max-width: 37.5rem;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.signup-box::before {
    content: ''; position: absolute; inset: -0.25rem;
    background: repeating-linear-gradient(45deg, #6B5D54, #6B5D54 0.625rem, var(--mc-border) 0.625rem, var(--mc-border) 1.25rem);
    z-index: -1;
}

.minecraft-title-image { max-width: 80%; display: block; margin: 0 auto 2.5rem; image-rendering: pixelated; }

/* --- FORMS & INPUTS --- */
.minecraft-form { display: flex; flex-direction: column; gap: 1.875rem; }

.minecraft-input {
    width: 100%; padding: 1.125rem 1.25rem;
    background: linear-gradient(135deg, #D2B48C 0%, #DEB887 50%, #C19A6B 100%);
    border: 0.1875rem solid #8B7355;
    border-radius: 0.375rem;
    font: 200 1.25rem var(--mc-font);
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    outline: none;
    box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.2);
}

.minecraft-input:focus {
    background: linear-gradient(135deg, #DEB887 0%, #F5DEB3 50%, #D2B48C 100%);
    border-color: var(--mc-green);
    transform: translateY(-0.125rem) scale(1.02);
}

/* Validation Styling (New but matches theme) */
.minecraft-input.invalid {
    background: linear-gradient(135deg, #ff5555 0%, #aa0000 100%) !important;
    border: 0.1875rem solid #3f0000 !important;
    color: #ffffff !important;
    text-shadow: 2px 2px 0px #3f0000;
    box-shadow: 0 0.5rem 1rem rgba(170, 0, 0, 0.5) !important;
    animation: shake 0.5s ease-in-out !important;
}

.minecraft-input.invalid::placeholder{
    color: rgba(255, 255, 255, 0.7);
}

.error {
    color: #ff5555 !important;
    text-shadow: 2px 2px 0px #3f0000;
    font-family: 'Minecraft', sans-serif;
    font-size: 0.9rem;
    display: block;
    margin-top: 5px;
    height: 1.2rem; /* Keep this so the box doesn't jump */
    font-weight: bold;
}

/* --- SUCCESS STATE (Minecraft Grass/Experience Green) --- */
.minecraft-input.valid {
    background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%) !important;
    border: 3px solid #1B5E20 !important;
    color: white !important;
    text-shadow: 2px 2px 0px #1B5E20;
    box-shadow: 0 0.5rem 1rem rgba(0, 100, 0, 0.3) !important;
}

/* Ensure placeholder looks good on green background */
.minecraft-input.valid::placeholder {
    color: rgba(255, 255, 255, 0.7);
}

/* --- BUTTON --- */
.minecraft-button {
    background: linear-gradient(135deg, #4CAF50 0%, #45A049 50%, #388E3C 100%);
    border: 0.1875rem solid #2E7D32;
    padding: 0.75rem 1.25rem;
    font: bold 1.5rem var(--mc-font);
    color: white; cursor: pointer;
    text-transform: uppercase; letter-spacing: 0.1875rem;
    border-radius: 0.25rem;
    box-shadow: 0 0.25rem 0 #2E7D32, 0 0.5rem 1rem rgba(0,0,0,0.3);
    position: relative; overflow: hidden; transition: var(--mc-transition);
}

.minecraft-button:hover {
    background: linear-gradient(135deg, #66BB6A 0%, #4CAF50 50%, #43A047 100%);
    transform: translateY(-0.1875rem) scale(1.05);
    padding: 0.9375rem 2.1875rem;
    letter-spacing: 0.25rem;
    box-shadow: 0 0.4375rem 0 #2E7D32, 0 0.75rem 1.25rem rgba(0,0,0,0.4);
}

.minecraft-button:active { transform: translateY(-0.0625rem) scale(1.02); box-shadow: 0 0.125rem 0 #2E7D32; }

/* --- LINKS & MESSAGES --- */
.login-link { text-align: center; margin-top: 1.25rem; }
.minecraft-link { color: var(--mc-green); text-decoration: none; font-weight: bold; transition: 0.4s; }
.minecraft-link:hover { color: #66BB6A; transform: translateY(-2px); display: inline-block; }

.error-message, .success-message {
    text-align: center; padding: 0.9375rem 1.25rem; margin-top: 1.25rem;
    border-radius: 0.5rem; display: none;
}
.error-message { background: #8B4513; border: 3px solid #654321; color: #FFE4B5; }
.success-message { background: var(--mc-green); border: 3px solid #2E7D32; color: white; }

/* --- FLOATING BLOCKS --- */
/* --- FLOATING BLOCKS --- */
.block {
    position: absolute;
    animation: float 6s ease-in-out infinite;
    image-rendering: pixelated; /* Keeps the Minecraft textures sharp */
    filter: drop-shadow(0 0.25rem 0.5rem rgba(0, 0, 0, 0.5));
    z-index: 5;
}

/* This part applies to ALL block images */
.block::before {
    content: '';
    position: absolute;
    inset: 0; /* Fills the whole block */
    background-size: cover;
    background-position: center;
    pointer-events: none;
}

/* Block 1: Grass */
.block-1 { width: 6.25rem; height: 6.25rem; top: 10%; left: 10%; }
.block-1::before { background-image: url('./images/grassBlock.png'); }

/* Block 2: Cobblestone */
.block-2 { width: 5.625rem; height: 5.625rem; top: 20%; right: 15%; animation-delay: 1s; }
.block-2::before { background-image: url('./images/cobblestone.png'); }

/* Block 3: Oak Wood */
.block-3 { width: 5rem; height: 5rem; bottom: 20%; left: 5%; animation-delay: 2s; }
.block-3::before { background-image: url('./images/oakLog.png'); }

/* Block 4: Furnace (Animated GIF) */
.block-4 { width: 6.0625rem; height: 6.0625rem; bottom: 30%; right: 10%; animation-delay: 3s; }
.block-4::before { background-image: url('./images/furnace.gif'); }

/* Block 5: Diamond Ore */
.block-5 { width: 5.625rem; height: 5.625rem; top: 50%; left: 8%; animation-delay: 4s; }
.block-5::before { background-image: url('./images/diamondOre.png'); }

/* Block 6: Enchanted Book (Animated GIF) */
.block-6 { width: 6.375rem; height: 6.375rem; top: 40%; right: 8%; animation-delay: 5s; }
.block-6::before { background-image: url('./images/bookshelf.gif'); }

/* --- ANIMATIONS --- */
@keyframes backgroundShift { 0%, 100% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } }
@keyframes sunGlow { 0% { transform: scale(1); box-shadow: 0 0 3.75rem rgba(255, 215, 0, 0.8); } 100% { transform: scale(1.05); box-shadow: 0 0 5rem rgba(255,215,0,1); } }
@keyframes sunPulse { 0% { opacity: 0.9; transform: scale(1); } 100% { opacity: 1; transform: scale(1.02); } }
@keyframes float { 0%, 100% { transform: translateY(0) rotate(var(--rotation, 5deg)); } 50% { transform: translateY(-1.25rem) rotate(var(--rotation, -5deg)); } }
@keyframes shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); } 20%, 40%, 60%, 80% { transform: translateX(5px); } }
@keyframes moveCloud {from { transform: translateX(-200px); } to { transform: translateX(110vw); }
}

/* --- RESPONSIVENESS --- */
@media (max-width: 64rem) {
    body { align-items: flex-start; padding-top: 2rem; overflow-y: auto; }
    .signup-box { margin: 1rem; padding: 2.5rem 2rem; min-width: auto; }
    .sun { top: 1rem; right: 2rem; width: 6rem; height: 6rem; }
    .block { display: none; }
}

@media (max-width: 36rem) {
    .signup-box { padding: 1.5rem 1rem; }
    .minecraft-input { font-size: 1rem; }
    .minecraft-button { font-size: 1.125rem; letter-spacing: 0.125rem; }
}